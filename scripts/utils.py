import os

WHERE_IS_CAM = {'train': {'scene_001': ['camera_0008',
   'camera_0004',
   'camera_0006',
   'camera_0003',
   'camera_0002',
   'camera_0009',
   'camera_0010',
   'camera_0007',
   'camera_0005',
   'ground_truth.txt',
   'camera_0001'],
  'scene_002': ['camera_0016',
   'camera_0013',
   'camera_0015',
   'camera_0018',
   'ground_truth.txt',
   'camera_0012',
   'camera_0017',
   'camera_0014',
   'camera_0019',
   'camera_0011'],
  'scene_003': ['camera_0023',
   'camera_0022',
   'camera_0024',
   'camera_0026',
   'camera_0021',
   'camera_0027',
   'camera_0028',
   'ground_truth.txt',
   'camera_0020',
   'camera_0029',
   'camera_0025'],
  'scene_004': ['camera_0033',
   'camera_0035',
   'camera_0031',
   'camera_0037',
   'camera_0032',
   'camera_0036',
   'camera_0030',
   'ground_truth.txt',
   'camera_0034'],
  'scene_005': ['camera_0041',
   'camera_0042',
   'camera_0044',
   'camera_0046',
   'camera_0047',
   'ground_truth.txt',
   'camera_0038',
   'camera_0040',
   'camera_0045',
   'camera_0043',
   'camera_0039'],
  'scene_006': ['camera_0055',
   'camera_0054',
   'camera_0052',
   'camera_0051',
   'camera_0053',
   'camera_0050',
   'camera_0048',
   'ground_truth.txt',
   'camera_0049'],
  'scene_007': ['camera_0062',
   'camera_0060',
   'camera_0061',
   'camera_0064',
   'camera_0065',
   'camera_0056',
   'camera_0057',
   'camera_0059',
   'camera_0063',
   'ground_truth.txt',
   'camera_0058'],
  'scene_008': ['camera_0066',
   'camera_0074',
   'camera_0070',
   'camera_0069',
   'camera_0072',
   'camera_0073',
   'camera_0067',
   'camera_0068',
   'camera_0071',
   'ground_truth.txt'],
  'scene_009': ['camera_0083',
   'camera_0077',
   'camera_0079',
   'camera_0076',
   'camera_0080',
   'ground_truth.txt',
   'camera_0078',
   'camera_0075',
   'camera_0082',
   'camera_0081'],
  'scene_010': ['camera_0093',
   'camera_0091',
   'camera_0089',
   'camera_0086',
   'camera_0088',
   'camera_0085',
   'camera_0087',
   'camera_0084',
   'camera_0092',
   'ground_truth.txt',
   'camera_0090'],
  'scene_011': ['camera_0098',
   'camera_0100',
   'camera_0097',
   'camera_0102',
   'camera_0096',
   'camera_0095',
   'ground_truth.txt',
   'camera_0094',
   'camera_0101',
   'camera_0099'],
  'scene_012': ['camera_0106',
   'camera_0104',
   'camera_0111',
   'camera_0109',
   'camera_0105',
   'camera_0108',
   'ground_truth.txt',
   'camera_0107',
   'camera_0103',
   'camera_0112',
   'camera_0110'],
  'scene_013': ['camera_0120',
   'camera_0115',
   'camera_0116',
   'camera_0113',
   'camera_0117',
   'camera_0114',
   'camera_0119',
   'ground_truth.txt',
   'camera_0121',
   'camera_0118'],
  'scene_014': ['camera_0122',
   'camera_0125',
   'camera_0126',
   'ground_truth.txt',
   'camera_0129',
   'camera_0127',
   'camera_0128',
   'camera_0124',
   'camera_0123'],
  'scene_015': ['camera_0133',
   'camera_0132',
   'camera_0131',
   'camera_0139',
   'camera_0134',
   'camera_0138',
   'camera_0136',
   'camera_0135',
   'ground_truth.txt',
   'camera_0130',
   'camera_0137'],
  'scene_016': ['camera_0145',
   'camera_0146',
   'camera_0140',
   'camera_0142',
   'camera_0143',
   'ground_truth.txt',
   'camera_0147',
   'camera_0144',
   'camera_0141',
   'camera_0148'],
  'scene_017': ['camera_0154',
   'camera_0152',
   'camera_0155',
   'camera_0158',
   'camera_0153',
   'camera_0157',
   'camera_0151',
   'ground_truth.txt',
   'camera_0149',
   'camera_0156',
   'camera_0150'],
  'scene_018': ['camera_0166',
   'camera_0161',
   'camera_0164',
   'camera_0162',
   'camera_0160',
   'camera_0159',
   'ground_truth.txt',
   'camera_0165',
   'camera_0163'],
  'scene_019': ['camera_0168',
   'camera_0170',
   'camera_0175',
   'camera_0172',
   'camera_0173',
   'ground_truth.txt',
   'camera_0169',
   'camera_0174',
   'camera_0167',
   'camera_0171'],
  'scene_020': ['camera_0183',
   'camera_0178',
   'camera_0185',
   'camera_0184',
   'camera_0177',
   'ground_truth.txt',
   'camera_0182',
   'camera_0181',
   'camera_0179',
   'camera_0176',
   'camera_0180'],
  'scene_021': ['camera_0188',
   'camera_0195',
   'camera_0194',
   'camera_0191',
   'camera_0193',
   'camera_0190',
   'camera_0187',
   'camera_0189',
   'ground_truth.txt',
   'camera_0186',
   'camera_0192'],
  'scene_022': ['camera_0203',
   'camera_0202',
   'camera_0200',
   'camera_0198',
   'camera_0197',
   'camera_0199',
   'camera_0201',
   'ground_truth.txt',
   'camera_0196'],
  'scene_023': ['camera_0207',
   'camera_0208',
   'camera_0204',
   'camera_0205',
   'ground_truth.txt',
   'camera_0210',
   'camera_0206',
   'camera_0211',
   'camera_0209',
   'camera_0213',
   'camera_0212'],
  'scene_024': ['camera_0219',
   'camera_0217',
   'camera_0214',
   'camera_0222',
   'camera_0215',
   'camera_0220',
   'ground_truth.txt',
   'camera_0218',
   'camera_0216',
   'camera_0221'],
  'scene_025': ['camera_0223',
   'camera_0225',
   'camera_0228',
   'camera_0226',
   'camera_0229',
   'camera_0227',
   'camera_0230',
   'ground_truth.txt',
   'camera_0224'],
  'scene_026': ['camera_0237',
   'camera_0233',
   'camera_0239',
   'camera_0236',
   'camera_0232',
   'camera_0238',
   'camera_0235',
   'ground_truth.txt',
   'camera_0234',
   'camera_0231',
   'camera_0240'],
  'scene_027': ['camera_0242',
   'camera_0246',
   'camera_0244',
   'camera_0245',
   'camera_0247',
   'ground_truth.txt',
   'camera_0243',
   'camera_0241'],
  'scene_028': ['camera_0250',
   'camera_0249',
   'camera_0252',
   'camera_0254',
   'ground_truth.txt',
   'camera_0251',
   'camera_0253',
   'camera_0248',
   'camera_0255',
   'camera_0256'],
  'scene_029': ['camera_0258',
   'camera_0261',
   'camera_0263',
   'camera_0260',
   'camera_0257',
   'ground_truth.txt',
   'camera_0262',
   'camera_0259'],
  'scene_030': ['camera_0271',
   'camera_0265',
   'camera_0269',
   'camera_0264',
   'camera_0273',
   'camera_0266',
   'camera_0272',
   'camera_0267',
   'ground_truth.txt',
   'camera_0268',
   'camera_0270'],
  'scene_031': ['camera_0274',
   'camera_0280',
   'camera_0275',
   'camera_0278',
   'ground_truth.txt',
   'camera_0276',
   'camera_0277',
   'camera_0279'],
  'scene_032': ['camera_0285',
   'camera_0281',
   'camera_0287',
   'camera_0284',
   'camera_0286',
   'camera_0288',
   'camera_0283',
   'camera_0289',
   'camera_0282',
   'ground_truth.txt'],
  'scene_033': ['camera_0296',
   'camera_0295',
   'camera_0294',
   'camera_0297',
   'ground_truth.txt',
   'camera_0290',
   'camera_0291',
   'camera_0292',
   'camera_0293'],
  'scene_034': ['camera_0302',
   'camera_0298',
   'camera_0304',
   'camera_0301',
   'camera_0303',
   'ground_truth.txt',
   'camera_0299',
   'camera_0300'],
  'scene_035': ['camera_0307',
   'camera_0308',
   'camera_0305',
   'camera_0312',
   'camera_0310',
   'ground_truth.txt',
   'camera_0311',
   'camera_0309',
   'camera_0306'],
  'scene_036': ['camera_0319',
   'camera_0318',
   'camera_0320',
   'camera_0322',
   'camera_0315',
   'camera_0317',
   'ground_truth.txt',
   'camera_0321',
   'camera_0314',
   'camera_0316',
   'camera_0313'],
  'scene_037': ['camera_0324',
   'camera_0325',
   'camera_0323',
   'camera_0328',
   'camera_0330',
   'camera_0326',
   'camera_0329',
   'camera_0327',
   'ground_truth.txt',
   'camera_0331'],
  'scene_038': ['camera_0336',
   'camera_0339',
   'camera_0337',
   'camera_0333',
   'camera_0332',
   'camera_0334',
   'camera_0338',
   'camera_0341',
   'ground_truth.txt',
   'camera_0335',
   'camera_0340'],
  'scene_039': ['camera_0345',
   'camera_0349',
   'camera_0348',
   'camera_0343',
   'camera_0350',
   'camera_0344',
   'camera_0342',
   'camera_0347',
   'ground_truth.txt',
   'camera_0346'],
  'scene_040': ['camera_0353',
   'camera_0355',
   'camera_0359',
   'camera_0357',
   'camera_0351',
   'camera_0360',
   'camera_0356',
   'ground_truth.txt',
   'camera_0354',
   'camera_0352',
   'camera_0358']},
 'val': {'scene_041': ['camera_0368',
   'camera_0367',
   'camera_0365',
   'camera_0362',
   'camera_0363',
   'camera_0364',
   'camera_0370',
   'camera_0361',
   'ground_truth.txt',
   'camera_0369',
   'camera_0366'],
  'scene_042': ['camera_0374',
   'camera_0378',
   'camera_0376',
   'camera_0379',
   'camera_0372',
   'camera_0375',
   'ground_truth.txt',
   'camera_0373',
   'camera_0377',
   'camera_0371'],
  'scene_043': ['camera_0383',
   'camera_0381',
   'camera_0385',
   'camera_0388',
   'camera_0387',
   'camera_0382',
   'camera_0384',
   'ground_truth.txt',
   'camera_0389',
   'camera_0380',
   'camera_0386'],
  'scene_044': ['camera_0395',
   'camera_0390',
   'camera_0396',
   'camera_0393',
   'camera_0394',
   'ground_truth.txt',
   'camera_0392',
   'camera_0391'],
  'scene_045': ['camera_0397',
   'camera_0403',
   'camera_0402',
   'camera_0399',
   'camera_0401',
   'camera_0400',
   'camera_0398',
   'ground_truth.txt',
   'camera_0404'],
  'scene_046': ['camera_0410',
   'camera_0406',
   'camera_0407',
   'camera_0409',
   'camera_0408',
   'camera_0411',
   'ground_truth.txt',
   'camera_0405'],
  'scene_047': ['camera_0418',
   'camera_0415',
   'camera_0417',
   'camera_0414',
   'camera_0412',
   'camera_0416',
   'camera_0413',
   'ground_truth.txt',
   'camera_0419',
   'camera_0420',
   'camera_0421'],
  'scene_048': ['camera_0427',
   'camera_0426',
   'camera_0424',
   'camera_0428',
   'camera_0429',
   'ground_truth.txt',
   'camera_0422',
   'camera_0423',
   'camera_0425'],
  'scene_049': ['camera_0430',
   'camera_0437',
   'camera_0436',
   'camera_0433',
   'camera_0438',
   'ground_truth.txt',
   'camera_0435',
   'camera_0439',
   'camera_0434',
   'camera_0432',
   'camera_0431'],
  'scene_050': ['camera_0443',
   'camera_0447',
   'camera_0446',
   'camera_0444',
   'camera_0442',
   'ground_truth.txt',
   'camera_0441',
   'camera_0440',
   'camera_0445'],
  'scene_051': ['camera_0448',
   'camera_0452',
   'camera_0454',
   'camera_0451',
   'camera_0453',
   'camera_0450',
   'ground_truth.txt',
   'camera_0449'],
  'scene_052': ['camera_0455',
   'camera_0457',
   'camera_0460',
   'camera_0461',
   'camera_0456',
   'camera_0462',
   'camera_0459',
   'ground_truth.txt',
   'camera_0458'],
  'scene_053': ['camera_0463',
   'camera_0466',
   'camera_0470',
   'camera_0468',
   'camera_0469',
   'camera_0465',
   'camera_0467',
   'ground_truth.txt',
   'camera_0464',
   'camera_0471'],
  'scene_054': ['camera_0478',
   'camera_0476',
   'camera_0472',
   'camera_0477',
   'camera_0475',
   'camera_0473',
   'camera_0479',
   'ground_truth.txt',
   'camera_0474'],
  'scene_055': ['camera_0486',
   'camera_0480',
   'camera_0483',
   'camera_0485',
   'camera_0481',
   'camera_0484',
   'ground_truth.txt',
   'camera_0482'],
  'scene_056': ['camera_0488',
   'camera_0493',
   'camera_0489',
   'camera_0487',
   'camera_0490',
   'ground_truth.txt',
   'camera_0491',
   'camera_0495',
   'camera_0492',
   'camera_0494'],
  'scene_057': ['camera_0501',
   'camera_0500',
   'camera_0504',
   'camera_0505',
   'camera_0502',
   'camera_0503',
   'ground_truth.txt',
   'camera_0497',
   'camera_0499',
   'camera_0498',
   'camera_0496'],
  'scene_058': ['camera_0512',
   'camera_0511',
   'camera_0506',
   'camera_0510',
   'camera_0507',
   'camera_0513',
   'ground_truth.txt',
   'camera_0509',
   'camera_0508',
   'camera_0514'],
  'scene_059': ['camera_0517',
   'camera_0519',
   'camera_0520',
   'camera_0522',
   'camera_0515',
   'camera_0518',
   'camera_0521',
   'ground_truth.txt',
   'camera_0524',
   'camera_0523',
   'camera_0516'],
  'scene_060': ['camera_0531',
   'camera_0527',
   'camera_0534',
   'camera_0526',
   'camera_0528',
   'camera_0529',
   'camera_0533',
   'ground_truth.txt',
   'camera_0525',
   'camera_0532',
   'camera_0530']}}

DATA_FOLDER_PATH = '/WAVE/workarea/users/sli13/AIC23_MTPC/data/aic24/'

def path_from_scenecam(scenecam : 'tuple[str, str]', ) -> str:
  
  if len(scenecam) != 2:
    scenecam = scenecam.split('/')
  
  scene = scenecam[0]
  cam = scenecam[1]
  
  usage = None
  for _usage in ['train', 'validation', 'test']:
      if scene in WHERE_IS_CAM[_usage]:
          usage = _usage
          break
  if usage is None:
      raise ValueError(f'Unknown scene {scene}')
  
  res = os.path.join(DATA_FOLDER_PATH, usage, scene, cam)
  return res
  
  
'''
  look for which scene a specific camera belongs to
'''
def scene_from_cam(cam: str) -> str:
    for usage, scenes in WHERE_IS_CAM.items():
        for scene, cams in scenes.items():
            if cam in cams:
                return scene
  

def path_from_scene(scene):
    if scene is int:
        scene = 'scene_%03d' % scene
    for usage, values in WHERE_IS_CAM.items():
        if scene in values:
            return os.path.join(DATA_FOLDER_PATH, usage, scene)
    raise ValueError(f'Unknown scene {scene}')